{% extends "base.html" %}

{% block title %}Erreur PayDunya{% endblock %}

{% block content %}
<div class="container mt-5">
    <div class="row justify-content-center">
        <div class="col-md-8">
            <div class="card">
                <div class="card-header bg-danger text-white">
                    <h4 class="mb-0">Erreur de paiement PayDunya</h4>
                </div>
                <div class="card-body">
                    <div class="alert alert-danger">
                        <h5>Une erreur s'est produite lors de la tentative de paiement :</h5>
                        <p>{{ error_message }}</p>
                    </div>
                    
                    {% if error_code == '1001' %}
                    <div class="alert alert-info">
                        <h5>Activation du compte PayDunya requise</h5>
                        <p>Votre compte PayDunya n'est pas complètement activé. Veuillez suivre ces étapes :</p>
                        <ol>
                            <li>Connectez-vous à votre <a href="https://app.paydunya.com/" target="_blank">compte PayDunya</a></li>
                            <li>Complétez le processus d'activation</li>
                            <li>Vérifiez que vous avez confirmé votre adresse email</li>
                            <li>Assurez-vous que votre compte est validé par PayDunya</li>
                        </ol>
                        <p>Une fois ces étapes complétées, vous pourrez effectuer des paiements via PayDunya.</p>
                    </div>
                    {% endif %}
                    
                    <div class="mt-4">
                        <a href="{% url 'api_plans_list' %}" class="btn btn-primary">Retour aux plans</a>
                        {% if support_email %}
                        <p class="mt-3">
                            Si le problème persiste, veuillez contacter notre support : 
                            <a href="mailto:{{ support_email }}">{{ support_email }}</a>
                        </p>
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %} 